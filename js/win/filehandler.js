// koffee 1.14.0

/*
00000000  000  000      00000000  000   000   0000000   000   000  0000000    000      00000000  00000000 
000       000  000      000       000   000  000   000  0000  000  000   000  000      000       000   000
000000    000  000      0000000   000000000  000000000  000 0 000  000   000  000      0000000   0000000  
000       000  000      000       000   000  000   000  000  0000  000   000  000      000       000   000
000       000  0000000  00000000  000   000  000   000  000   000  0000000    0000000  00000000  000   000
 */
var File, FileHandler, _, electron, empty, filelist, first, kerror, klog, post, prefs, ref, reversed, slash, valid,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

ref = require('kxk'), _ = ref._, empty = ref.empty, filelist = ref.filelist, first = ref.first, kerror = ref.kerror, klog = ref.klog, post = ref.post, prefs = ref.prefs, reversed = ref.reversed, slash = ref.slash, valid = ref.valid;

File = require('../tools/file');

electron = require('electron');

FileHandler = (function() {
    function FileHandler() {
        this.saveFileAs = bind(this.saveFileAs, this);
        this.openFile = bind(this.openFile, this);
        this.saveChanges = bind(this.saveChanges, this);
        this.saveFile = bind(this.saveFile, this);
        this.saveAll = bind(this.saveAll, this);
        this.removeFile = bind(this.removeFile, this);
        this.reloadFile = bind(this.reloadFile, this);
        this.reloadTab = bind(this.reloadTab, this);
        this.openFiles = bind(this.openFiles, this);
        this.loadFile = bind(this.loadFile, this);
        post.on('reloadFile', this.reloadFile);
        post.on('removeFile', this.removeFile);
        post.on('saveFileAs', this.saveFileAs);
        post.on('saveFile', this.saveFile);
        post.on('saveAll', this.saveAll);
        post.on('saveChanges', this.saveChanges);
        post.on('reloadTab', this.reloadTab);
        post.on('loadFile', this.loadFile);
        post.on('openFile', this.openFile);
        post.on('openFiles', this.openFiles);
    }

    FileHandler.prototype.loadFile = function(file, opt) {
        var activeTab, err, fileExists, filePos, ref1, tab;
        if (opt == null) {
            opt = {};
        }
        if ((file != null) && file.length <= 0) {
            file = null;
        }
        editor.saveScrollCursorsAndSelections();
        if (file != null) {
            ref1 = slash.splitFilePos(file), file = ref1[0], filePos = ref1[1];
            if (!file.startsWith('untitled')) {
                file = slash.resolve(file);
                try {
                    process.chdir(slash.dir(file));
                } catch (error) {
                    err = error;
                    kerror(err);
                }
            }
        }
        if (file !== (typeof editor !== "undefined" && editor !== null ? editor.currentFile : void 0) || (opt != null ? opt.reload : void 0)) {
            if (fileExists = slash.fileExists(file)) {
                this.addToRecent(file);
            }
            tab = tabs.tab(file);
            if (empty(tab)) {
                tab = tabs.addTmpTab(file);
            }
            if (activeTab = tabs.activeTab()) {
                if (tab !== activeTab) {
                    activeTab.clearActive();
                    if (activeTab.dirty) {
                        activeTab.storeState();
                    }
                }
            }
            klog('fileHandler.loadFile', file, opt);
            editor.setCurrentFile(file);
            tab.finishActivation();
            klog('fileHandler.loadFile restore');
            editor.restoreScrollCursorsAndSelections();
            klog('fileHandler.loadFile done');
            if (fileExists) {
                post.toOtherWins('fileLoaded', file);
                post.emit('cwdSet', slash.dir(file));
            }
        }
        split.raise('editor');
        if ((filePos != null) && (filePos[0] || filePos[1])) {
            editor.singleCursorAtPos(filePos);
            return editor.scroll.cursorToTop();
        }
    };

    FileHandler.prototype.openFiles = function(ofiles, options) {
        var file, files, i, len, maxTabs;
        if (options != null) {
            options;
        } else {
            options = {};
        }
        if (ofiles != null ? ofiles.length : void 0) {
            files = filelist(ofiles, {
                ignoreHidden: false
            });
            maxTabs = prefs.get('maximalNumberOfTabs', 8);
            if (!options.newWindow) {
                files = files.slice(0, maxTabs);
            }
            if (files.length >= Math.max(11, maxTabs) && !options.skipCheck) {
                window.win.messageBox({
                    type: 'warning',
                    buttons: ['Cancel', 'Open All'],
                    defaultId: 1,
                    cancelId: 0,
                    title: 'A Lot of Files Warning',
                    message: "You have selected " + files.length + " files.",
                    detail: 'Are you sure you want to open that many files?',
                    cb: (function(_this) {
                        return function(answer) {
                            if (answer === 1) {
                                options.skipCheck = true;
                                return _this.openFiles(ofiles, options);
                            }
                        };
                    })(this)
                });
                return;
            }
            if (files.length === 0) {
                return [];
            }
            window.stash.set('openFilePath', slash.dir(files[0]));
            if (!options.newWindow && !options.newTab) {
                file = slash.resolve(files.shift());
                this.loadFile(file);
            }
            for (i = 0, len = files.length; i < len; i++) {
                file = files[i];
                if (options.newWindow) {
                    post.toMain('newWindowWithFile', file);
                } else {
                    post.emit('newTabWithFile', file);
                }
            }
            return ofiles;
        }
    };

    FileHandler.prototype.reloadTab = function(file) {
        if (file === (typeof editor !== "undefined" && editor !== null ? editor.currentFile : void 0)) {
            return this.loadFile(typeof editor !== "undefined" && editor !== null ? editor.currentFile : void 0, {
                reload: true
            });
        } else {
            return post.emit('revertFile', file);
        }
    };

    FileHandler.prototype.reloadFile = function(file) {
        var tab;
        if (!file) {
            return this.reloadActiveTab();
        } else if (tab = tabs.tab(file)) {
            if (tab === tabs.activeTab()) {
                return this.reloadActiveTab();
            } else {
                return tab.reload();
            }
        }
    };

    FileHandler.prototype.reloadActiveTab = function() {
        var tab;
        if (tab = tabs.activeTab()) {
            tab.reload();
        }
        this.loadFile(editor.currentFile, {
            reload: true
        });
        if (editor.currentFile != null) {
            return post.toOtherWins('reloadTab', editor.currentFile);
        }
    };

    FileHandler.prototype.removeFile = function(file) {
        var neighborTab, tab;
        if (tab = tabs.tab(file)) {
            if (tab === tabs.activeTab()) {
                if (neighborTab = tab.nextOrPrev()) {
                    neighborTab.activate();
                }
            }
            return tabs.closeTab(tab);
        }
    };

    FileHandler.prototype.saveAll = function() {
        var i, len, ref1, results, tab;
        ref1 = tabs.tabs;
        results = [];
        for (i = 0, len = ref1.length; i < len; i++) {
            tab = ref1[i];
            if (tab.dirty) {
                if (tab === tabs.activeTab()) {
                    results.push(this.saveFile(tab.file));
                } else {
                    if (!tab.file.startsWith('untitled')) {
                        results.push(tab.saveChanges());
                    } else {
                        results.push(void 0);
                    }
                }
            } else {
                results.push(void 0);
            }
        }
        return results;
    };

    FileHandler.prototype.saveFile = function(file) {
        var err, tabState;
        if (file != null) {
            file;
        } else {
            file = editor.currentFile;
        }
        if ((file == null) || file.startsWith('untitled')) {
            this.saveFileAs();
            return;
        }
        post.emit('unwatch', file);
        tabState = editor["do"].tabState();
        try {
            post.emit('menuAction', 'doMacro', {
                actarg: 'req'
            });
        } catch (error) {
            err = error;
            kerror("macro req failed " + err);
        }
        return File.save(file, editor.text(), function(err, saved) {
            editor.saveScrollCursorsAndSelections();
            if (valid(err)) {
                kerror("saving '" + file + "' failed:", err);
            } else {
                editor.setCurrentFile(saved);
                editor["do"].history = tabState.history;
                editor["do"].saveIndex = tabState.history.length;
                post.toOtherWins('fileSaved', saved, window.winID);
                post.emit('saved', saved);
                post.emit('watch', saved);
            }
            return editor.restoreScrollCursorsAndSelections();
        });
    };

    FileHandler.prototype.addToRecent = function(file) {
        var recent;
        recent = window.state.get('recentFiles', []);
        if (file === first(recent)) {
            return;
        }
        _.pull(recent, file);
        recent.unshift(file);
        while (recent.length > prefs.get('recentFilesLength', 15)) {
            recent.pop();
        }
        window.state.set('recentFiles', recent);
        return commandline.commands.open.setHistory(reversed(recent));
    };

    FileHandler.prototype.saveChanges = function() {
        if ((editor.currentFile != null) && editor["do"].hasChanges() && slash.fileExists(editor.currentFile)) {
            return File.save(editor.currentFile, editor.text(), function(err) {
                if (err) {
                    return kerror("FileHandler.saveChanges failed " + err);
                }
            });
        }
    };

    FileHandler.prototype.openFile = function(opt) {
        var dir, ref1;
        if (typeof editor !== "undefined" && editor !== null ? editor.currentFile : void 0) {
            dir = slash.dir(editor.currentFile);
        }
        if (dir != null) {
            dir;
        } else {
            dir = slash.resolve('.');
        }
        return (ref1 = window.win) != null ? ref1.openFileDialog({
            title: 'Open File',
            defaultPath: window.stash.get('openFilePath', dir),
            properties: ['openFile', 'multiSelections'],
            cb: (function(_this) {
                return function(files) {
                    return post.emit('openFiles', files, opt);
                };
            })(this)
        }) : void 0;
    };

    FileHandler.prototype.saveFileAs = function() {
        var ref1;
        return (ref1 = window.win) != null ? ref1.saveFileDialog({
            title: 'Save File As',
            defaultPath: slash.unslash(typeof editor !== "undefined" && editor !== null ? editor.currentDir() : void 0),
            cb: (function(_this) {
                return function(file) {
                    klog('saveFileAs', file);
                    _this.addToRecent(file);
                    return _this.saveFile(file);
                };
            })(this)
        }) : void 0;
    };

    return FileHandler;

})();

module.exports = FileHandler;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZWhhbmRsZXIuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vY29mZmVlL3dpbiIsInNvdXJjZXMiOlsiZmlsZWhhbmRsZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7Ozs7QUFBQSxJQUFBLDhHQUFBO0lBQUE7O0FBUUEsTUFBbUYsT0FBQSxDQUFRLEtBQVIsQ0FBbkYsRUFBRSxTQUFGLEVBQUssaUJBQUwsRUFBWSx1QkFBWixFQUFzQixpQkFBdEIsRUFBNkIsbUJBQTdCLEVBQXFDLGVBQXJDLEVBQTJDLGVBQTNDLEVBQWlELGlCQUFqRCxFQUF3RCx1QkFBeEQsRUFBa0UsaUJBQWxFLEVBQXlFOztBQUV6RSxJQUFBLEdBQVcsT0FBQSxDQUFRLGVBQVI7O0FBQ1gsUUFBQSxHQUFXLE9BQUEsQ0FBUSxVQUFSOztBQUVMO0lBRUMscUJBQUE7Ozs7Ozs7Ozs7O1FBRUMsSUFBSSxDQUFDLEVBQUwsQ0FBUSxZQUFSLEVBQXNCLElBQUMsQ0FBQSxVQUF2QjtRQUNBLElBQUksQ0FBQyxFQUFMLENBQVEsWUFBUixFQUFzQixJQUFDLENBQUEsVUFBdkI7UUFDQSxJQUFJLENBQUMsRUFBTCxDQUFRLFlBQVIsRUFBc0IsSUFBQyxDQUFBLFVBQXZCO1FBQ0EsSUFBSSxDQUFDLEVBQUwsQ0FBUSxVQUFSLEVBQXNCLElBQUMsQ0FBQSxRQUF2QjtRQUNBLElBQUksQ0FBQyxFQUFMLENBQVEsU0FBUixFQUFzQixJQUFDLENBQUEsT0FBdkI7UUFDQSxJQUFJLENBQUMsRUFBTCxDQUFRLGFBQVIsRUFBc0IsSUFBQyxDQUFBLFdBQXZCO1FBQ0EsSUFBSSxDQUFDLEVBQUwsQ0FBUSxXQUFSLEVBQXNCLElBQUMsQ0FBQSxTQUF2QjtRQUNBLElBQUksQ0FBQyxFQUFMLENBQVEsVUFBUixFQUFzQixJQUFDLENBQUEsUUFBdkI7UUFDQSxJQUFJLENBQUMsRUFBTCxDQUFRLFVBQVIsRUFBc0IsSUFBQyxDQUFBLFFBQXZCO1FBQ0EsSUFBSSxDQUFDLEVBQUwsQ0FB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Q0EsV0FBQSxFQUFhLEtBQUssQ0FBQyxPQUFOLG9EQUFjLE1BQU0sQ0FBRSxVQUFSLENBQUEsVUFBZCxDQURiO1lBRUEsRUFBQSxFQUFJLENBQUEsU0FBQSxLQUFBO3VCQUFBLFNBQUMsSUFBRDtvQkFDQSxJQUFBLENBQUssWUFBTCxFQUFrQixJQUFsQjtvQkFDQSxLQUFDLENBQUEsV0FBRCxDQUFhLElBQWI7MkJBQ0EsS0FBQyxDQUFBLFFBQUQsQ0FBVSxJQUFWO2dCQUhBO1lBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUZKO1NBREo7SUFGUTs7Ozs7O0FBV2hCLE1BQU0sQ0FBQyxPQUFQLEdBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG4wMDAwMDAwMCAgMDAwICAwMDAgICAgICAwMDAwMDAwMCAgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAwMDAgICAgICAwMDAwMDAwMCAgMDAwMDAwMDAgXG4wMDAgICAgICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgMDAwICAgMDAwXG4wMDAwMDAgICAgMDAwICAwMDAgICAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAwMDAwMDAgIDAwMCAwIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAwMDAwMDAwICAgMDAwMDAwMCAgXG4wMDAgICAgICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgMDAwICAgMDAwXG4wMDAgICAgICAgMDAwICAwMDAwMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAwMDAwMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwXG4jIyNcblxueyBfLCBlbXB0eSwgZmlsZWxpc3QsIGZpcnN0LCBrZXJyb3IsIGtsb2csIHBvc3QsIHByZWZzLCByZXZlcnNlZCwgc2xhc2gsIHZhbGlkIH0gPSByZXF1aXJlICdreGsnXG5cbkZpbGUgICAgID0gcmVxdWlyZSAnLi4vdG9vbHMvZmlsZSdcbmVsZWN0cm9uID0gcmVxdWlyZSAnZWxlY3Ryb24nXG5cbmNsYXNzIEZpbGVIYW5kbGVyXG5cbiAgICBAOiAtPlxuXG4gICAgICAgIHBvc3Qub24gJ3JlbG9hZEZpbGUnICBAcmVsb2FkRmlsZVxuICAgICAgICBwb3N0Lm9uICdyZW1vdmVGaWxlJyAgQHJlbW92ZUZpbGVcbiAgICAgICAgcG9zdC5vbiAnc2F2ZUZpbGVBcycgIEBzYXZlRmlsZUFzXG4gICAgICAgIHBvc3Qub24gJ3NhdmVGaWxlJyAgICBAc2F2ZUZpbGVcbiAgICAgICAgcG9zdC5vbiAnc2F2ZUFsbCcgICAgIEBzYXZlQWxsXG4gICAgICAgIHBvc3Qub24gJ3NhdmVDaGFuZ2VzJyBAc2F2ZUNoYW5nZXNcbiAgICAgICAgcG9zdC5vbiAncmVsb2FkVGFiJyAgIEByZWxvYWRUYWJcbiAgICAgICAgcG9zdC5vbiAnbG9hZEZpbGUnICAgIEBsb2FkRmlsZVxuICAgICAgICBwb3N0Lm9uICdvcGVuRmlsZScgICAgQG9wZW5GaWxlXG4gICAgICAgIHBvc3Qub24gJ29wZW5GaWxlcycgICBAb3BlbkZpbGVzXG4gICAgICAgIFxuICAgICMgMDAwICAgICAgIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAgICAgICAgICAgMDAwMDAwMDAgIDAwMCAgMDAwICAgICAgMDAwMDAwMDAgIFxuICAgICMgMDAwICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwICAgICAgMDAwICAgMDAwICAwMDAwMDAwMDAgIDAwMCAgIDAwMCAgICAgICAgMDAwMDAwICAgIDAwMCAgMDAwICAgICAgMDAwMDAwMCAgIFxuICAgICMgMDAwICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAgICAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwMDAwMCAgMDAwMDAwMDAgIFxuICAgIFxuICAgIGxvYWRGaWxlOiAoZmlsZSwgb3B0PXt9KSA9PlxuICAgIFxuICAgICAgICBmaWxlID0gbnVsbCBpZiBmaWxlPyBhbmQgZmlsZS5sZW5ndGggPD0gMFxuICAgIFxuICAgICAgICBlZGl0b3Iuc2F2ZVNjcm9sbEN1cnNvcnNBbmRTZWxlY3Rpb25zKClcbiAgICBcbiAgICAgICAgaWYgZmlsZT9cbiAgICAgICAgICAgIFtmaWxlLCBmaWxlUG9zXSA9IHNsYXNoLnNwbGl0RmlsZVBvcyBmaWxlXG4gICAgICAgICAgICBpZiBub3QgZmlsZS5zdGFydHNXaXRoICd1bnRpdGxlZCdcbiAgICAgICAgICAgICAgICBmaWxlID0gc2xhc2gucmVzb2x2ZSBmaWxlXG4gICAgICAgICAgICAgICAgdHJ5XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuY2hkaXIgc2xhc2guZGlyIGZpbGVcbiAgICAgICAgICAgICAgICBjYXRjaCBlcnJcbiAgICAgICAgICAgICAgICAgICAga2Vycm9yIGVyclxuICAgIFxuICAgICAgICBpZiBmaWxlICE9IGVkaXRvcj8uY3VycmVudEZpbGUgb3Igb3B0Py5yZWxvYWRcbiAgICBcbiAgICAgICAgICAgIGlmIGZpbGVFeGlzdHMgPSBzbGFzaC5maWxlRXhpc3RzIGZpbGVcbiAgICAgICAgICAgICAgICBAYWRkVG9SZWNlbnQgZmlsZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0YWIgPSB0YWJzLnRhYiBmaWxlXG4gICAgICAgICAgICBpZiBlbXB0eSB0YWJcbiAgICAgICAgICAgICAgICB0YWIgPSB0YWJzLmFkZFRtcFRhYiBmaWxlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGFjdGl2ZVRhYiA9IHRhYnMuYWN0aXZlVGFiKClcbiAgICAgICAgICAgICAgICBpZiB0YWIgIT0gYWN0aXZlVGFiXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRhYi5jbGVhckFjdGl2ZSgpXG4gICAgICAgICAgICAgICAgICAgIGlmIGFjdGl2ZVRhYi5kaXJ0eVxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFiLnN0b3JlU3RhdGUoKVxuXG4gICAgICAgICAgICBrbG9nICdmaWxlSGFuZGxlci5sb2FkRmlsZScgZmlsZSwgb3B0XG4gICAgICAgICAgICBlZGl0b3Iuc2V0Q3VycmVudEZpbGUgZmlsZVxuICAgIFxuICAgICAgICAgICAgdGFiLmZpbmlzaEFjdGl2YXRpb24oKSAjIHNldEFjdGl2ZSwgcmVzdG9yZSBzdGF0ZSwgdXBkYXRlIHRhYnNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAga2xvZyAnZmlsZUhhbmRsZXIubG9hZEZpbGUgcmVzdG9yZSdcbiAgICAgICAgICAgIGVkaXRvci5yZXN0b3JlU2Nyb2xsQ3Vyc29yc0FuZFNlbGVjdGlvbnMoKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBrbG9nICdmaWxlSGFuZGxlci5sb2FkRmlsZSBkb25lJ1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBmaWxlRXhpc3RzXG4gICAgICAgICAgICAgICAgcG9zdC50b090aGVyV2lucyAnZmlsZUxvYWRlZCcgZmlsZSAjIGluZGV4ZXJcbiAgICAgICAgICAgICAgICBwb3N0LmVtaXQgJ2N3ZFNldCcgc2xhc2guZGlyIGZpbGVcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgc3BsaXQucmFpc2UgJ2VkaXRvcidcbiAgICBcbiAgICAgICAgaWYgZmlsZVBvcz8gYW5kIChmaWxlUG9zWzBdIG9yIGZpbGVQb3NbMV0pXG4gICAgICAgICAgICBlZGl0b3Iuc2luZ2xlQ3Vyc29yQXRQb3MgZmlsZVBvc1xuICAgICAgICAgICAgZWRpdG9yLnNjcm9sbC5jdXJzb3JUb1RvcCgpXG5cbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwMCAgMDAwICAgMDAwICAgICAgICAwMDAwMDAwMCAgMDAwICAwMDAgICAgICAwMDAwMDAwMCAgIDAwMDAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAwIDAwMCAgICAgICAgMDAwMDAwICAgIDAwMCAgMDAwICAgICAgMDAwMDAwMCAgIDAwMDAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgMDAwICAwMDAwICAgICAgICAwMDAgICAgICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgICAgICAwMDBcbiAgICAjICAwMDAwMDAwICAgMDAwICAgICAgICAwMDAwMDAwMCAgMDAwICAgMDAwICAgICAgICAwMDAgICAgICAgMDAwICAwMDAwMDAwICAwMDAwMDAwMCAgMDAwMDAwMFxuICAgIFxuICAgIG9wZW5GaWxlczogKG9maWxlcywgb3B0aW9ucykgPT4gIyBjYWxsZWQgZnJvbSBmaWxlIGRpYWxvZywgb3BlbiBjb21tYW5kIGFuZCBicm93c2VyXG4gICAgXG4gICAgICAgIG9wdGlvbnMgPz0ge31cbiAgICAgICAgXG4gICAgICAgIGlmIG9maWxlcz8ubGVuZ3RoXG4gICAgXG4gICAgICAgICAgICBmaWxlcyA9IGZpbGVsaXN0IG9maWxlcywgaWdub3JlSGlkZGVuOiBmYWxzZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBtYXhUYWJzID0gcHJlZnMuZ2V0ICdtYXhpbWFsTnVtYmVyT2ZUYWJzJyA4XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIG5vdCBvcHRpb25zLm5ld1dpbmRvd1xuICAgICAgICAgICAgICAgIGZpbGVzID0gZmlsZXNbMC4uLm1heFRhYnNdXG4gICAgXG4gICAgICAgICAgICBpZiBmaWxlcy5sZW5ndGggPj0gTWF0aC5tYXgoMTEsIG1heFRhYnMpIGFuZCBub3Qgb3B0aW9ucy5za2lwQ2hlY2tcbiAgICAgICAgICAgICAgICB3aW5kb3cud2luLm1lc3NhZ2VCb3hcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogICAgICAgJ3dhcm5pbmcnXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6ICAgIFsnQ2FuY2VsJyAnT3BlbiBBbGwnXVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0SWQ6ICAxXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbElkOiAgIDBcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICAgICAgJ0EgTG90IG9mIEZpbGVzIFdhcm5pbmcnXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICAgIFwiWW91IGhhdmUgc2VsZWN0ZWQgI3tmaWxlcy5sZW5ndGh9IGZpbGVzLlwiXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogICAgICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gb3BlbiB0aGF0IG1hbnkgZmlsZXM/J1xuICAgICAgICAgICAgICAgICAgICBjYjogKGFuc3dlcikgPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiBhbnN3ZXIgPT0gMSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNraXBDaGVjayA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAb3BlbkZpbGVzIG9maWxlcywgb3B0aW9uc1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgZmlsZXMubGVuZ3RoID09IDBcbiAgICAgICAgICAgICAgICByZXR1cm4gW11cbiAgICBcbiAgICAgICAgICAgIHdpbmRvdy5zdGFzaC5zZXQgJ29wZW5GaWxlUGF0aCcgc2xhc2guZGlyIGZpbGVzWzBdXG4gICAgXG4gICAgICAgICAgICBpZiBub3Qgb3B0aW9ucy5uZXdXaW5kb3cgYW5kIG5vdCBvcHRpb25zLm5ld1RhYlxuICAgICAgICAgICAgICAgIGZpbGUgPSBzbGFzaC5yZXNvbHZlIGZpbGVzLnNoaWZ0KClcbiAgICAgICAgICAgICAgICBAbG9hZEZpbGUgZmlsZVxuICAgIFxuICAgICAgICAgICAgZm9yIGZpbGUgaW4gZmlsZXNcbiAgICAgICAgICAgICAgICBpZiBvcHRpb25zLm5ld1dpbmRvd1xuICAgICAgICAgICAgICAgICAgICBwb3N0LnRvTWFpbiAnbmV3V2luZG93V2l0aEZpbGUnIGZpbGVcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHBvc3QuZW1pdCAnbmV3VGFiV2l0aEZpbGUnIGZpbGVcbiAgICBcbiAgICAgICAgICAgIHJldHVybiBvZmlsZXNcbiAgICAgICAgICBcbiAgICAjIDAwMDAwMDAwICAgMDAwMDAwMDAgIDAwMCAgICAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwICAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAgICAgICAwMDAgICAwMDAgIDAwMDAwMDAwMCAgMDAwICAgMDAwICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIFxuICAgICMgMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAgICAgXG4gICAgXG4gICAgcmVsb2FkVGFiOiAoZmlsZSkgPT5cbiAgICAgICAgXG4gICAgICAgIGlmIGZpbGUgPT0gZWRpdG9yPy5jdXJyZW50RmlsZVxuICAgICAgICAgICAgQGxvYWRGaWxlIGVkaXRvcj8uY3VycmVudEZpbGUsIHJlbG9hZDp0cnVlXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHBvc3QuZW1pdCAncmV2ZXJ0RmlsZScgZmlsZVxuICAgICAgICAgICAgICAgIFxuICAgICMgMDAwMDAwMDAgICAwMDAwMDAwMCAgMDAwICAgICAgIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAgICAgICAgICAgMDAwMDAwMDAgIDAwMCAgMDAwICAgICAgMDAwMDAwMDAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgICAgMDAwICAgMDAwICAwMDAwMDAwMDAgIDAwMCAgIDAwMCAgICAgICAgMDAwMDAwICAgIDAwMCAgMDAwICAgICAgMDAwMDAwMCAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAgICAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwMDAwMCAgMDAwMDAwMDAgIFxuICAgIFxuICAgIHJlbG9hZEZpbGU6IChmaWxlKSA9PlxuICAgICAgICBcbiAgICAgICAgaWYgbm90IGZpbGVcbiAgICAgICAgICAgIEByZWxvYWRBY3RpdmVUYWIoKVxuICAgICAgICBlbHNlIGlmIHRhYiA9IHRhYnMudGFiIGZpbGVcbiAgICAgICAgICAgIGlmIHRhYiA9PSB0YWJzLmFjdGl2ZVRhYigpXG4gICAgICAgICAgICAgICAgQHJlbG9hZEFjdGl2ZVRhYigpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGFiLnJlbG9hZCgpXG4gICAgICAgICAgICBcbiAgICByZWxvYWRBY3RpdmVUYWI6IC0+XG4gICAgICAgIFxuICAgICAgICBpZiB0YWIgPSB0YWJzLmFjdGl2ZVRhYigpXG4gICAgICAgICAgICB0YWIucmVsb2FkKClcbiAgICAgICAgXG4gICAgICAgIEBsb2FkRmlsZSBlZGl0b3IuY3VycmVudEZpbGUsIHJlbG9hZDp0cnVlXG4gICAgXG4gICAgICAgIGlmIGVkaXRvci5jdXJyZW50RmlsZT9cbiAgICAgICAgICAgIHBvc3QudG9PdGhlcldpbnMgJ3JlbG9hZFRhYicsIGVkaXRvci5jdXJyZW50RmlsZVxuXG4gICAgIyAwMDAwMDAwMCAgIDAwMDAwMDAwICAwMCAgICAgMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAwMDAwMCAgICAgICAgMDAwMDAwMDAgIDAwMCAgMDAwICAgICAgMDAwMDAwMDAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAgICAgIDAwMCAgICAgICAwMDAgIDAwMCAgICAgIDAwMCAgICAgICBcbiAgICAjIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwICAgMDAwICAgMDAwIDAwMCAgIDAwMDAwMDAgICAgICAgICAwMDAwMDAgICAgMDAwICAwMDAgICAgICAwMDAwMDAwICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgMCAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICAgMDAwMDAwMCAgICAgICAwICAgICAgMDAwMDAwMDAgICAgICAgIDAwMCAgICAgICAwMDAgIDAwMDAwMDAgIDAwMDAwMDAwICBcbiAgICBcbiAgICByZW1vdmVGaWxlOiAoZmlsZSkgPT5cbiAgICAgICAgXG4gICAgICAgIGlmIHRhYiA9IHRhYnMudGFiIGZpbGVcbiAgICAgICAgICAgIGlmIHRhYiA9PSB0YWJzLmFjdGl2ZVRhYigpXG4gICAgICAgICAgICAgICAgaWYgbmVpZ2hib3JUYWIgPSB0YWIubmV4dE9yUHJldigpXG4gICAgICAgICAgICAgICAgICAgIG5laWdoYm9yVGFiLmFjdGl2YXRlKClcbiAgICAgICAgICAgIHRhYnMuY2xvc2VUYWIgdGFiXG4gICAgICAgICAgICBcbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgICAgICAgICAwMDAwMDAwICAgMDAwICAgICAgMDAwICAgICAgXG4gICAgIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgIDAwMCAgICAgIFxuICAgICMgMDAwMDAwMCAgIDAwMDAwMDAwMCAgIDAwMCAwMDAgICAwMDAwMDAwICAgICAgICAgMDAwMDAwMDAwICAwMDAgICAgICAwMDAgICAgICBcbiAgICAjICAgICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgXG4gICAgIyAwMDAwMDAwICAgMDAwICAgMDAwICAgICAgMCAgICAgIDAwMDAwMDAwICAgICAgICAwMDAgICAwMDAgIDAwMDAwMDAgIDAwMDAwMDAgIFxuICAgIFxuICAgIHNhdmVBbGw6ID0+XG4gICAgICAgIFxuICAgICAgICBmb3IgdGFiIGluIHRhYnMudGFic1xuICAgICAgICAgICAgaWYgdGFiLmRpcnR5IFxuICAgICAgICAgICAgICAgIGlmIHRhYiA9PSB0YWJzLmFjdGl2ZVRhYigpXG4gICAgICAgICAgICAgICAgICAgIEBzYXZlRmlsZSB0YWIuZmlsZVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgaWYgbm90IHRhYi5maWxlLnN0YXJ0c1dpdGggJ3VudGl0bGVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFiLnNhdmVDaGFuZ2VzKClcblxuICAgICMgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAwMDAwMCAgICAgICAgMDAwMDAwMDAgIDAwMCAgMDAwICAgICAgMDAwMDAwMDAgIFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwMDAwMCAgIDAwMDAwMDAwMCAgIDAwMCAwMDAgICAwMDAwMDAwICAgICAgICAgMDAwMDAwICAgIDAwMCAgMDAwICAgICAgMDAwMDAwMCAgIFxuICAgICMgICAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwMDAwMCAgIDAwMCAgIDAwMCAgICAgIDAgICAgICAwMDAwMDAwMCAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwMDAwMCAgMDAwMDAwMDAgIFxuICAgIFxuICAgIHNhdmVGaWxlOiAoZmlsZSkgPT5cbiAgICBcbiAgICAgICAgZmlsZSA/PSBlZGl0b3IuY3VycmVudEZpbGVcbiAgICAgICAgXG4gICAgICAgIGlmIG5vdCBmaWxlPyBvciBmaWxlLnN0YXJ0c1dpdGggJ3VudGl0bGVkJ1xuICAgICAgICAgICAgQHNhdmVGaWxlQXMoKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIFxuICAgICAgICBwb3N0LmVtaXQgJ3Vud2F0Y2gnIGZpbGVcbiAgICAgICAgXG4gICAgICAgIHRhYlN0YXRlID0gZWRpdG9yLmRvLnRhYlN0YXRlKClcbiAgICAgICAgXG4gICAgICAgIHRyeVxuICAgICAgICAgICAgcG9zdC5lbWl0ICdtZW51QWN0aW9uJyAnZG9NYWNybycgYWN0YXJnOidyZXEnICMgISEhISEhIVxuICAgICAgICBjYXRjaCBlcnJcbiAgICAgICAgICAgIGtlcnJvciBcIm1hY3JvIHJlcSBmYWlsZWQgI3tlcnJ9XCJcbiAgICAgICAgXG4gICAgICAgIEZpbGUuc2F2ZSBmaWxlLCBlZGl0b3IudGV4dCgpLCAoZXJyLCBzYXZlZCkgLT5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZWRpdG9yLnNhdmVTY3JvbGxDdXJzb3JzQW5kU2VsZWN0aW9ucygpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIHZhbGlkIGVyclxuICAgICAgICAgICAgICAgIGtlcnJvciBcInNhdmluZyAnI3tmaWxlfScgZmFpbGVkOlwiIGVyclxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGVkaXRvci5zZXRDdXJyZW50RmlsZSAgICAgc2F2ZWRcbiAgICAgICAgICAgICAgICBlZGl0b3IuZG8uaGlzdG9yeSAgID0gdGFiU3RhdGUuaGlzdG9yeVxuICAgICAgICAgICAgICAgIGVkaXRvci5kby5zYXZlSW5kZXggPSB0YWJTdGF0ZS5oaXN0b3J5Lmxlbmd0aFxuICAgICAgICAgICAgICAgIHBvc3QudG9PdGhlcldpbnMgJ2ZpbGVTYXZlZCcgc2F2ZWQsIHdpbmRvdy53aW5JRFxuICAgICAgICAgICAgICAgICMgcG9zdC50b01haW4gJ2ZpbGVTYXZlZCcgc2F2ZWQsIHdpbmRvdy53aW5JRFxuICAgICAgICAgICAgICAgIHBvc3QuZW1pdCAgICAgJ3NhdmVkJyAgICAgc2F2ZWRcbiAgICAgICAgICAgICAgICBwb3N0LmVtaXQgICAgICd3YXRjaCcgICAgIHNhdmVkXG5cbiAgICAgICAgICAgIGVkaXRvci5yZXN0b3JlU2Nyb2xsQ3Vyc29yc0FuZFNlbGVjdGlvbnMoKVxuICAgICAgICAgICAgICAgICAgXG4gICAgIyAgMDAwMDAwMCAgIDAwMDAwMDAgICAgMDAwMDAwMCAgICAgICAgICAwMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwMDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMDAwICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwMCAgMDAwICAgICAwMDAgICAgIFxuICAgICMgMDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgICAgIDAwMDAwMDAgICAwMDAgMCAwMDAgICAgIDAwMCAgICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwMCAgICAgMDAwICAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAwMDAwMDAwICAgICAgICAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgICAwMDAwMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIFxuICAgIFxuICAgIGFkZFRvUmVjZW50OiAoZmlsZSkgLT5cbiAgICBcbiAgICAgICAgcmVjZW50ID0gd2luZG93LnN0YXRlLmdldCAncmVjZW50RmlsZXMnIFtdXG4gICAgICAgIHJldHVybiBpZiBmaWxlID09IGZpcnN0IHJlY2VudFxuICAgICAgICBfLnB1bGwgcmVjZW50LCBmaWxlXG4gICAgICAgIHJlY2VudC51bnNoaWZ0IGZpbGVcbiAgICAgICAgd2hpbGUgcmVjZW50Lmxlbmd0aCA+IHByZWZzLmdldCAncmVjZW50RmlsZXNMZW5ndGgnIDE1XG4gICAgICAgICAgICByZWNlbnQucG9wKClcbiAgICBcbiAgICAgICAgd2luZG93LnN0YXRlLnNldCAncmVjZW50RmlsZXMnIHJlY2VudFxuICAgICAgICAjIHdpbmRvdy50aXRsZWJhci5yZWZyZXNoTWVudSgpXG4gICAgICAgIGNvbW1hbmRsaW5lLmNvbW1hbmRzLm9wZW4uc2V0SGlzdG9yeSByZXZlcnNlZCByZWNlbnRcbiAgICAgICAgICAgICAgICBcbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgICAgICAgICAwMDAwMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwMDAwMCAgXG4gICAgIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAgICAgICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwMDAwMCAgIDAwMDAwMDAwMCAgIDAwMCAwMDAgICAwMDAwMDAwICAgICAgICAgMDAwICAgICAgIDAwMDAwMDAwMCAgMDAwMDAwMDAwICAwMDAgMCAwMDAgIDAwMCAgMDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAgICBcbiAgICAjICAgICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgICAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAgICAgIDAwMCAgXG4gICAgIyAwMDAwMDAwICAgMDAwICAgMDAwICAgICAgMCAgICAgIDAwMDAwMDAwICAgICAgICAgMDAwMDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwMCAgMDAwMDAwMCAgIFxuICAgIFxuICAgIHNhdmVDaGFuZ2VzOiA9PlxuICAgICAgICBcbiAgICAgICAgaWYgZWRpdG9yLmN1cnJlbnRGaWxlPyBhbmQgZWRpdG9yLmRvLmhhc0NoYW5nZXMoKSBhbmQgc2xhc2guZmlsZUV4aXN0cyBlZGl0b3IuY3VycmVudEZpbGVcbiAgICAgICAgICAgIEZpbGUuc2F2ZSBlZGl0b3IuY3VycmVudEZpbGUsIGVkaXRvci50ZXh0KCksIChlcnIpIC0+XG4gICAgICAgICAgICAgICAga2Vycm9yIFwiRmlsZUhhbmRsZXIuc2F2ZUNoYW5nZXMgZmFpbGVkICN7ZXJyfVwiIGlmIGVyclxuICAgIFxuICAgICMgIDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMDAwMDAwICAwMDAgICAwMDAgICAgICAgIDAwMDAwMDAwICAwMDAgIDAwMCAgICAgIDAwMDAwMDAwICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAwIDAwMCAgICAgICAgMDAwMDAwICAgIDAwMCAgMDAwICAgICAgMDAwMDAwMCAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgICAwMDAgIDAwMDAgICAgICAgIDAwMCAgICAgICAwMDAgIDAwMCAgICAgIDAwMCAgICAgICBcbiAgICAjICAwMDAwMDAwICAgMDAwICAgICAgICAwMDAwMDAwMCAgMDAwICAgMDAwICAgICAgICAwMDAgICAgICAgMDAwICAwMDAwMDAwICAwMDAwMDAwMCAgXG4gICAgXG4gICAgb3BlbkZpbGU6IChvcHQpID0+XG4gICAgXG4gICAgICAgIGRpciA9IHNsYXNoLmRpciBlZGl0b3IuY3VycmVudEZpbGUgaWYgZWRpdG9yPy5jdXJyZW50RmlsZVxuICAgICAgICBkaXIgPz0gc2xhc2gucmVzb2x2ZSAnLidcbiAgICAgICAgd2luZG93Lndpbj8ub3BlbkZpbGVEaWFsb2coXG4gICAgICAgICAgICB0aXRsZTogJ09wZW4gRmlsZSdcbiAgICAgICAgICAgIGRlZmF1bHRQYXRoOiB3aW5kb3cuc3Rhc2guZ2V0KCdvcGVuRmlsZVBhdGgnIGRpcilcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IFsnb3BlbkZpbGUnICdtdWx0aVNlbGVjdGlvbnMnXSBcbiAgICAgICAgICAgIGNiOiAoZmlsZXMpID0+IHBvc3QuZW1pdCAnb3BlbkZpbGVzJyBmaWxlcywgb3B0XG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXG4gICAgIyAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAwICAgICAgICAwMDAwMDAwMCAgMDAwICAwMDAgICAgICAwMDAwMDAwMCAgICAgICAgICAwMDAwMDAwICAgIDAwMDAwMDAgIFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgICAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICBcbiAgICAjIDAwMDAwMDAgICAwMDAwMDAwMDAgICAwMDAgMDAwICAgMDAwMDAwMCAgICAgICAgIDAwMDAwMCAgICAwMDAgIDAwMCAgICAgIDAwMDAwMDAgICAgICAgICAgMDAwMDAwMDAwICAwMDAwMDAwICAgXG4gICAgIyAgICAgIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAgICAgICAwMDAgICAgICAgMDAwICAwMDAgICAgICAwMDAgICAgICAgICAgICAgIDAwMCAgIDAwMCAgICAgICAwMDAgIFxuICAgICMgMDAwMDAwMCAgIDAwMCAgIDAwMCAgICAgIDAgICAgICAwMDAwMDAwMCAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwMDAwMCAgMDAwMDAwMDAgICAgICAgICAwMDAgICAwMDAgIDAwMDAwMDAgICBcbiAgICBcbiAgICBzYXZlRmlsZUFzOiA9PlxuICAgIFxuICAgICAgICB3aW5kb3cud2luPy5zYXZlRmlsZURpYWxvZyhcbiAgICAgICAgICAgIHRpdGxlOiAnU2F2ZSBGaWxlIEFzJyBcbiAgICAgICAgICAgIGRlZmF1bHRQYXRoOiBzbGFzaC51bnNsYXNoIGVkaXRvcj8uY3VycmVudERpcigpXG4gICAgICAgICAgICBjYjogKGZpbGUpID0+XG4gICAgICAgICAgICAgICAga2xvZyAnc2F2ZUZpbGVBcycgZmlsZVxuICAgICAgICAgICAgICAgIEBhZGRUb1JlY2VudCBmaWxlXG4gICAgICAgICAgICAgICAgQHNhdmVGaWxlIGZpbGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIFxubW9kdWxlLmV4cG9ydHMgPSBGaWxlSGFuZGxlclxuIl19
//# sourceURL=../../coffee/win/filehandler.coffee